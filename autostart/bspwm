#!/bin/zsh
# hairlinehd's bspwm autostart file

# mount disks
udisksctl mount -b /dev/sdd1
udisksctl mount -b /dev/sdb1
udisksctl mount -b /dev/sdc

# start once to prevent duplicate processes
run sxhkd
run picom
run polkit-gnome
run clearfullscreen
run swallow
run plank
run volnoti-dbus
run polylaunch
run notification
run otd-daemon

# run always
rm .xsession-errors*
setwallpaper --randomize ~/.local/wallpapers/.
xset -dpms
xset s off

# weird exceptions
sleep 2
run clipit
run nm-applet

# fixes plank and notification
bspc subscribe node_add | while read -r _; do
   xdo raise -N Plank
done 

bspc subscribe node_add | while read -r _; do
   xdo raise -N Notification
done 

# it works, either way i dont care
complete -C "/usr/bin/ls /home/isao/.local/bin" shedit


